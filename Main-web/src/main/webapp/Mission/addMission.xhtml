<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/template/template.xhtml">
	<ui:param name="page_name" value="Accueil" />
	<ui:define name="content">


		<div class="modal fade" tabindex="-1" role="dialog"
			aria-labelledby="mySmallModalLabel" aria-hidden="true" id="edit">
			<div class="modal-dialog modal-sm">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true"></span>
						</button>
						<h4 class="modal-title" id="myModalLabel">Confirmar</h4>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" id="modal-btn-si">Si</button>
						<button type="button" class="btn btn-primary" id="modal-btn-no">No</button>
					</div>
				</div>
			</div>
		</div>


		<div class="modal fade" id="addmission" tabindex="-1" role="dialog">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h6 class="title" id="defaultModalLabel">Add New Mission</h6>
					</div>
					<div class="modal-body">
						<h:form>
							<center>
								<div class="row clearfix">
									<div class="form-group col-md-6">
										<h:outputLabel for="inputEmail4">Title</h:outputLabel>
										<h:inputText class="form-control" id="inputEmail4"
											placeholder="Title" value="#{missionBean.title}"></h:inputText>
									</div>
									<div class="form-group col-md-6">
										<h:outputLabel for="Description">Description</h:outputLabel>
										<h:inputTextarea class="form-control"
											placeholder="Description" value="#{missionBean.description}"></h:inputTextarea>
									</div>

									<div class="form-group col-md-6">
										<h:outputLabel for="Description">Date Debut</h:outputLabel>
										<h:inputText class="form-control" placeholder="Date Debut"
											styleClass="form-control datepicker"
											value="#{missionBean.datedeb}">
											<f:convertDateTime pattern="yy-mm-dd" />

										</h:inputText>
									</div>

									<div class="form-group col-md-6">
										<h:outputLabel for="Description">Date Fin</h:outputLabel>
										<h:inputText class="form-control" placeholder="Date Fin"
											styleClass="form-control datepicker"
											value="#{missionBean.datefin}">
											<f:convertDateTime pattern="yy-mm-dd" />

										</h:inputText>
									</div>
								</div>

								<h:commandButton value="Add"
									action="#{missionBean.doAddMission()}"
									styleClass="btn btn-primary btn-lg btn-block"></h:commandButton>
							</center>
						</h:form>
					</div>
					<div class="modal-footer"></div>
				</div>
			</div>
		</div>










		<div class="section-body">


			<h:form>
				<div class="container-fluid">

					<div class="row clearfix">
						<div class="col-lg-12">
							<div class="card">
								<div class="card-header">
									<h3 class="card-title">Missions List</h3>
								</div>
								<div class="card-body">
									<button id="addToTable" class="btn btn-primary mb-15"
										type="button" data-toggle="modal" data-target="#addmission">
										<i class="icon wb-plus" aria-hidden="true"></i><i
											class="fe fe-plus mr-2"></i> Add new mission
									</button>




									<h:dataTable value="#{missionBean.missions}" var="m"
										class="table table-hover table-vcenter table-striped dataTable"
										role="grid" aria-describedby="addrowExample_info">

										<h:column>
											<f:facet name="header">
																			Title
																		</f:facet>
											<h:outputText value="#{m.title}"></h:outputText>
										</h:column>
										<h:column>
											<f:facet name="header">
																			Description
																		</f:facet>
											<h:outputText value="#{m.description}"></h:outputText>
										</h:column>
										<h:column>
											<f:facet name="header">
																			Start date
																		</f:facet>
											<h:outputText value="#{m.datedeb}"></h:outputText>
										</h:column>
										<h:column>
											<f:facet name="header">
																			End date
																		</f:facet>
											<h:outputText value="#{m.datefin}"></h:outputText>
										</h:column>
										<h:column>
											<f:facet name="header">
																			Update

																		</f:facet>

											
												<h:commandLink class="btn btn-primary" action="#{missionBean.redirectToRoute}">
													<f:setPropertyActionListener value="#{m.id}"
														target="#{missionBean.missionId}" />ok
													
												</h:commandLink>
											

										</h:column>
										<h:column>
											<f:facet name="header">
																			Delete
																		</f:facet>
											<h:commandButton action="#{missionBean.deleteMission(m.id)}"
												value="Delete" class="btn btn-danger"></h:commandButton>

										</h:column>

									</h:dataTable>





								</div>
							</div>
						</div>
					</div>
				</div>
			</h:form>




		</div>


	</ui:define>
</ui:composition>



